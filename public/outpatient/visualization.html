<hinge visualization="visualization" pivot="pivot" options="pivotOptions" on-close="close()">
  <div class="animate-switch-container" ng-switch on="visualization.name"> <!-- TODO define animation CSS -->
    <div class="animation-switch" ng-switch-when="table">
      <div class="table-responsive">
        <table class="table table-striped table-hover table-condensed" frable="tableParams">
          <tr ng-repeat="visit in $data">
            <td data-title="strings.date" sortable="'reportDate'">{{visit.reportDate | date}}</td>
            <td data-title="strings.sex" sortable="'patient.sex'">{{visit.patient.sex}}</td>
            <td data-title="strings.age" sortable="'patient.age'">{{visit.patient.age}}</td>
            <td data-title="strings.symptoms">{{visit.symptoms | join | truncate:30}}</td>
          </tr>
        </table>
      </div>
    </div>
    <div class="animation-switch" ng-switch-when="crosstab">
      <crosstab records="tabularData" options="pivot"></crosstab>
    </div>
    <div class="animation-switch" ng-switch-when="line">TODO line graph</div>
    <div class="animation-switch" ng-switch-when="pie">TODO pie char</div>
    <div class="animation-switch" ng-switch-when="bar">TODO bar chart</div>
    <div class="animation-switch" ng-switch-default>Unknown visualization {{visualization}} :(</div>
  </div>
</hinge>
